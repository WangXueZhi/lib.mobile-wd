{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///./components/tools/dom.ts","webpack:///./components/tools/function.ts","webpack:///./components/tools/helper.tsx","webpack:///./components/tools/index.ts","webpack:///./components/tools/scroll.ts","webpack:///external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}"],"names":["parseFix","parseContainer","parse","html","context","document","select","table","tr","__proto__","option","optgroup","thead","tbody","tfoot","caption","colgroup","col","td","th","legend","area","param","createElement","container","match","exec","wrapper","toLowerCase","innerHTML","level","lastChild","node","firstChild","createTextNode","nextSibling","createDocumentFragment","appendChild","query","parent","selector","Array","prototype","slice","call","querySelector","findAll","find","idSeed","first","querySelectorAll","e","nodeType","charCodeAt","idCreated","id","elem","matches","parentNode","indexOf","ownerDocument","documentElement","removeChild","walk","last","next","prev","nextProp","firstProp","closest","children","nodes","push","contains","child","index","r","previousSibling","append","content","insert","prepend","before","after","sibling","insertBefore","remove","clone","cloneNode","getAttr","attrName","getAttribute","setAttr","value","test","colSpan","removeAttribute","setAttribute","getText","textProp","setText","tagName","getHtml","setHtml","getHTML","setHTML","hasClass","className","addClass","toggleClass","removeClass","replace","trim","undefined","vendor","propName","style","capName","charAt","toUpperCase","prefix","getStyle","defaultView","getComputedStyle","setStyle","computeStyle","computedStyle","propNames","parseFloat","getScroll","win","x","pageXOffset","y","pageYOffset","scrollLeft","scrollTop","setScroll","scrollTo","getOffset","left","top","offsetParent","rect","getRect","nodeName","rootRect","setOffset","doc","width","Math","max","innerWidth","clientWidth","height","innerHeight","clientHeight","elemRect","getBoundingClientRect","clientLeft","clientTop","setRect","movable","currentPosition","offset","boxSizing","position","eventFix","defaultEventOptions","on","eventName","eventHandler","thisArg","eventOptions","opt","passive","addEventListener","removeEventListener","isEnterOrLeave","sender","type","length","relatedTarget","focus","delegate","blur","mouseenter","filter","mouseleave","pointerenter","pointerleave","mouseclick","bind","window","mozInnerScreenX","focusAdd","focusRemove","focusin","add","focusout","click","button","Document","mousewheel","wheelDelta","detail","auxclick","pointerover","pointerout","pointerdown","pointerup","pointermove","TouchEvent","Object","defineProperty","configurable","enumerable","prop","get","changedTouches","requireClick","disabled","readOnly","state","__touchStart__","pageX","pageY","__touchEnd__","pow","target","preventDefault","__click__","trigger","pointerAdd","touch","__touch__","__mouse__","pointerRemove","events","__events__","key","eventHandlers","originalFix","fix","indexOfHandler","originalHandler","__original__","__this__","isArray","off","splice","i","event","animateFix","animate","callback","duration","timingFunction","transition","support","transitionEnd","w","__animate__","updateTransition","word","timer","currentTarget","clearTimeout","contextUpdated","offsetWidth","setTimeout","isHidden","__toggle__","display","defaultDisplays","toggleAnimations","show","animation","toggle","__display__","defaultDisplay","tmp","body","hide","currentDisplay","opacity","marginTop","borderTopWidth","paddingTop","paddingBottom","borderBottomWidth","marginBottom","marginLeft","borderLeftWidth","paddingLeft","paddinRight","borderRightWidth","marginRight","transform","bottom","right","scale","scaleX","scaleY","slideUp","slideLeft","slideDown","slideRight","zoomOut","zoomIn","rotate","setTransformOrigin","targetRect","setOverflowX","overflowX","setOverflowY","overflowY","to","from","minWidth","minHeight","ready","readyState","defer","fn","args","arguments","apply","getReactNode","Node","React","setTransform","ele","attribute","transformNames","webkit","Moz","O","ms","standard","name","getMetaValue","meta","getElementsByTagName","item","getUuidFn","nowDate","Date","now","dom","helper","scroll","fns","start","deltaX","deltaY","maxCount","count","step","scrollBy","scrollSize","scrollWidth","scrollHeight","isScrollIntoView","scrollable","scrollParent","padding","scrollIntoView","scrollIntoViewIfNeeded","scrollShow","once","inView","handleScroll","oldInView"],"mappings":"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","file":"tools/index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"react\")) : factory(root[\"React\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(window, function(__WEBPACK_EXTERNAL_MODULE_react__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./components/tools/index.ts\");\n","var parseFix;\nvar parseContainer;\n/**\n * 解析一段 HTML 并创建相应的节点，如果 HTML 片段中有多个根节点则返回一个文档片段\n * @param html 要解析的 HTML 片段\n * @param context 节点所属的文档\n * @example parse(\"<div>Hello world<div>\") // <div>Hello world<div>\n */\nexport function parse(html, context = document) {\n    if (!parseFix) {\n        const select = [1, `<select multiple=\"multiple\">`, `</select>`];\n        const table = [1, `<table>`, `</table>`];\n        const tr = [3, `<table><tbody><tr>`, `</tr></tbody></table>`];\n        parseFix = {\n            __proto__: null,\n            option: select,\n            optgroup: select,\n            thead: table,\n            tbody: table,\n            tfoot: table,\n            caption: table,\n            colgroup: table,\n            tr: [2, `<table><tbody>`, `</tbody></table>`],\n            col: [2, `<table><tbody></tbody><colgroup>`, `</colgroup></table>`],\n            td: tr,\n            th: tr,\n            legend: [1, `<fieldset>`, `</fieldset>`],\n            area: [1, `<map>`, `</map>`],\n            param: [1, `<object>`, `</object>`]\n        };\n        parseContainer = document.createElement(\"div\");\n    }\n    let container = context === document ? parseContainer : context.createElement(\"div\");\n    const match = /^<(\\w+)/.exec(html);\n    const wrapper = match && parseFix[match[1].toLowerCase()];\n    if (wrapper) {\n        container.innerHTML = wrapper[1] + html + wrapper[2];\n        for (let level = wrapper[0]; level--;) {\n            container = container.lastChild;\n        }\n    }\n    else {\n        container.innerHTML = html;\n    }\n    let node = (container.firstChild || context.createTextNode(html));\n    if (node.nextSibling) {\n        node = context.createDocumentFragment();\n        while (container.firstChild) {\n            node.appendChild(container.firstChild);\n        }\n    }\n    return node;\n}\nexport function query(parent, selector) {\n    return Array.prototype.slice.call(querySelector(parent, selector), 0);\n}\nexport function findAll(parent, selector) {\n    return Array.prototype.slice.call(querySelector(parent, selector), 0);\n}\nexport function find(parent, selector) {\n    return querySelector(parent, selector, true);\n}\nvar idSeed;\nfunction querySelector(parent, selector, first) {\n    if (typeof parent === \"string\") {\n        selector = parent;\n        parent = document;\n    }\n    try {\n        return first ? parent.querySelector(selector) : parent.querySelectorAll(selector);\n    }\n    catch (e) {\n        if (parent.nodeType === 1 && selector.charCodeAt(0) === 62 /*>*/) {\n            let idCreated;\n            selector = `#${parent.id || (idCreated = true, parent.id = \"__dom_q\" + (idSeed = idSeed + 1 || 1) + \"__\")} ${selector}`;\n            try {\n                return first ? parent.querySelector(selector) : parent.querySelectorAll(selector);\n            }\n            catch (e) {\n            }\n            finally {\n                if (idCreated) {\n                    parent.id = \"\";\n                }\n            }\n        }\n        throw e;\n    }\n}\n/**\n * 判断元素是否匹配指定的 CSS 选择器\n * @param elem 要处理的元素\n * @param selector 要判断的 CSS 选择器\n * @param context 选择器的上下文\n * @example match(document.body, \"body\") // true\n */\nexport function match(elem, selector, context) {\n    if (elem.matches) {\n        try {\n            return elem.matches(selector);\n        }\n        catch (e) { }\n    }\n    let parent = elem.parentNode;\n    if (parent) {\n        return Array.prototype.indexOf.call(querySelector(context || parent, selector), elem) >= 0;\n    }\n    parent = elem.ownerDocument.documentElement;\n    try {\n        parent.appendChild(elem);\n        return match(elem, selector, context);\n    }\n    finally {\n        parent.removeChild(elem);\n    }\n}\n/**\n * 获取节点的第一个子元素\n * @param node 要处理的节点\n * @param selector 用于筛选元素的 CSS 选择器\n */\nexport function first(node, selector) {\n    return walk(node, selector, \"nextSibling\", \"firstChild\");\n}\n/**\n * 获取节点的最后一个子元素\n * @param node 要处理的节点\n * @param selector 用于筛选元素的 CSS 选择器\n */\nexport function last(node, selector) {\n    return walk(node, selector, \"previousSibling\", \"lastChild\");\n}\n/**\n * 获取节点的下一个相邻元素\n * @param node 要处理的节点\n * @param selector 用于筛选元素的 CSS 选择器\n */\nexport function next(node, selector) {\n    return walk(node, selector, \"nextSibling\");\n}\n/**\n * 获取节点的上一个相邻元素\n * @param node 要处理的节点\n * @param selector 用于筛选元素的 CSS 选择器\n */\nexport function prev(node, selector) {\n    return walk(node, selector, \"previousSibling\");\n}\n/**\n * 获取节点的父元素\n * @param node 要处理的节点\n * @param selector 用于筛选元素的 CSS 选择器\n */\nexport function parent(node, selector) {\n    return walk(node, selector, \"parentNode\");\n}\nfunction walk(node, selector, nextProp, firstProp = nextProp) {\n    for (node = node[firstProp]; node; node = node[nextProp]) {\n        if (node.nodeType === 1 && (!selector || match(node, selector))) {\n            break;\n        }\n    }\n    return node;\n}\n/**\n * 从指定节点开始向父元素查找第一个匹配指定 CSS 选择器的元素\n * @param node 要处理的节点\n * @param selector 要匹配的 CSS 选择器\n * @param context 如果提供了上下文则只在指定的元素范围内搜索，否则在整个文档查找\n * @example closest(document.body, \"body\")\n */\nexport function closest(node, selector, context) {\n    while (node && node !== context && (node.nodeType !== 1 || !match(node, selector, context))) {\n        node = node.parentNode;\n    }\n    return node === context ? null : node;\n}\n/**\n * 获取节点的所有直接子元素\n * @param node 要处理的节点\n * @param selector 用于筛选元素的 CSS 选择器\n * @example children(document.body)\n */\nexport function children(node, selector) {\n    const nodes = [];\n    for (node = node.firstChild; node; node = node.nextSibling) {\n        if (node.nodeType === 1 && (!selector || match(node, selector))) {\n            nodes.push(node);\n        }\n    }\n    return nodes;\n}\n/**\n * 判断节点是否等同于或包含另一个节点\n * @param node 要处理的节点\n * @param child 要判断的子节点\n * @example contains(document.body, document.body) // true\n */\nexport function contains(node, child) {\n    if (node.contains) {\n        return node.contains(child);\n    }\n    for (; child; child = child.parentNode) {\n        if (child === node) {\n            return true;\n        }\n    }\n    return false;\n}\n/**\n * 获取节点在其父节点所有直接子元素中的索引（从 0 开始）\n * @param node 要处理的节点\n */\nexport function index(node) {\n    let r = 0;\n    while ((node = node.previousSibling)) {\n        if (node.nodeType === 1) {\n            r++;\n        }\n    }\n    return r;\n}\n/**\n * 在节点末尾插入一段 HTML 或一个节点，返回插入的新节点\n * @param node 要处理的节点\n * @param content 要插入的 HTML 或节点\n */\nexport function append(node, content) {\n    return insert(node, content, false, false);\n}\n/**\n * 在节点开头插入一段 HTML 或一个节点，返回插入的新节点\n * @param node 要处理的节点\n * @param content 要插入的 HTML 或节点\n */\nexport function prepend(node, content) {\n    return insert(node, content, true, false);\n}\n/**\n * 在节点前插入一段 HTML 或一个节点，返回插入的新节点\n * @param node 要处理的节点该节点必须具有父节点\n * @param content 要插入的 HTML 或节点\n */\nexport function before(node, content) {\n    return insert(node, content, true, true);\n}\n/**\n * 在节点后插入一段 HTML 或一个节点，返回插入的新节点\n * @param node 要处理的节点该节点必须具有父节点\n * @param content 要插入的 HTML 或节点\n */\nexport function after(node, content) {\n    return insert(node, content, false, true);\n}\nfunction insert(node, content, prepend, sibling) {\n    if (content == null) {\n        return null;\n    }\n    if (typeof content !== \"object\") {\n        content = parse(content, node.ownerDocument || node);\n    }\n    if (sibling) {\n        return node.parentNode.insertBefore(content, prepend ? node : node.nextSibling);\n    }\n    return prepend ? node.insertBefore(content, node.firstChild) : node.appendChild(content);\n}\n/**\n * 从文档中移除节点\n * @param node 要移除的节点\n */\nexport function remove(node) {\n    node && node.parentNode && node.parentNode.removeChild(node);\n}\n/**\n * 复制节点及其子节点，返回复制的节点\n * @param node 要复制的节点\n */\nexport function clone(node) {\n    return node.cloneNode(true);\n}\n/**\n * 获取元素的属性值，如果属性不存在则返回 null\n * @param elem 要处理的元素\n * @param attrName 要获取的属性名（使用骆驼规则，如 `readOnly`）\n * @example getAttr(document.body, \"class\")\n */\nexport function getAttr(elem, attrName) {\n    return attrName in elem ? elem[attrName] : elem.getAttribute(attrName);\n}\n/**\n * 设置元素的属性值\n * @param elem 要处理的元素\n * @param attrName 要设置的属性名（使用骆驼规则，如 `readOnly`）\n * @param value 要设置的属性值设置为 null 表示删除属性\n * @example setAttr(document.body, \"class\", \"red\")\n * @example setAttr(document.body, \"class\", null)\n */\nexport function setAttr(elem, attrName, value) {\n    if (value != null && typeof value !== \"string\" || attrName in elem && !/^on./.test(attrName)) {\n        if (value == null && typeof elem[attrName] === \"string\") {\n            value = \"\";\n        }\n        try {\n            elem[attrName] = value;\n        }\n        catch (e) {\n            // IE Edge: elem.colSpan = 0 抛出异常\n            if (attrName === \"colSpan\") {\n                elem.colSpan = +value > 0 ? +value : 1;\n            }\n            else {\n                throw e;\n            }\n        }\n    }\n    else if (value == null) {\n        elem.removeAttribute(attrName);\n    }\n    else {\n        elem.setAttribute(attrName, value);\n    }\n}\n/**\n * 获取元素的文本内容，如果是输入框则返回其输入的值\n * @param elem 要处理的元素\n * @example getText(document.body)\n */\nexport function getText(elem) {\n    return elem[textProp(elem)];\n}\n/**\n * 设置元素的文本内容，如果是输入框则设置其输入的值\n * @param elem 要处理的元素\n * @param value 要设置的文本内容\n * @example setText(document.body, \"text\")\n */\nexport function setText(elem, value) {\n    elem[textProp(elem)] = value;\n}\nfunction textProp(elem) {\n    return /^(INPUT|SELECT|TEXTAREA)$/.test(elem.tagName) ? \"value\" : \"textContent\";\n}\n/**\n * 获取元素的内部的 HTML\n * @param elem 要处理的元素\n * @example getHtml(document.body)\n */\nexport function getHtml(elem) {\n    return elem.innerHTML;\n}\n/**\n * 设置元素的内部的 HTML\n * @param elem 要处理的元素\n * @param value 要设置的内部 HTML\n * @example setHtml(document.body, \"html\")\n */\nexport function setHtml(elem, value) {\n    elem.innerHTML = value;\n}\n/**\n * 获取元素的内部的 HTML\n * @param elem 要处理的元素\n * @example getHtml(document.body)\n */\nexport function getHTML(elem) {\n    return elem.innerHTML;\n}\n/**\n * 设置元素的内部的 HTML\n * @param elem 要处理的元素\n * @param value 要设置的内部 HTML\n * @example setHtml(document.body, \"html\")\n */\nexport function setHTML(elem, value) {\n    elem.innerHTML = value;\n}\n/**\n * 判断元素是否已添加指定的 CSS 类名\n * @param elem 要处理的元素\n * @param className 要判断的 CSS 类名（只能有一个）\n */\nexport function hasClass(elem, className) {\n    return (\" \" + elem.className + \" \").indexOf(\" \" + className + \" \") >= 0;\n}\n/**\n * 添加元素的 CSS 类名\n * @param elem 要处理的元素\n * @param className 要添加的 CSS 类名（只能有一个）\n * @example addClass(document.body, \"light\")\n */\nexport function addClass(elem, className) {\n    toggleClass(elem, className, true);\n}\n/**\n * 删除元素的 CSS 类名\n * @param elem 要处理的元素\n * @param className 要删除的 CSS 类名（只能有一个）\n * @example removeClass(document.body, \"light\")\n */\nexport function removeClass(elem, className) {\n    toggleClass(elem, className, false);\n}\n/**\n * 如果存在（不存在）则删除（添加）元素的 CSS 类名\n * @param elem 要处理的元素\n * @param className 要添加或删除的 CSS 类名（只能有一个）\n * @param value 如果为 true 则强制添加 CSS 类名，如果为 false 则强制删除 CSS 类名\n * @example toggleClass(document.body, \"light\")\n */\nexport function toggleClass(elem, className, value) {\n    if (hasClass(elem, className)) {\n        if (!value) {\n            elem.className = (\" \" + elem.className + \" \").replace(\" \" + className + \" \", \" \").trim();\n        }\n    }\n    else if (value === undefined || value) {\n        elem.className = elem.className ? elem.className + \" \" + className : className;\n    }\n}\n/**\n * 返回已添加当前浏览器特定的样式前缀（如 \"webkit-\"）的 CSS 属性名\n * @param propName 要处理的 CSS 属性名\n * @example vendor(\"transform\")\n */\nexport function vendor(propName) {\n    if (!(propName in document.documentElement.style)) {\n        const capName = propName.charAt(0).toUpperCase() + propName.slice(1);\n        for (const prefix of [\"webkit\", \"Moz\", \"ms\", \"O\"]) {\n            if ((prefix + capName) in document.documentElement.style) {\n                return prefix + capName;\n            }\n        }\n    }\n    return propName;\n}\n/**\n * 获取元素的实际的 CSS 属性值\n * @param elem 要处理的元素\n * @param propName 要获取的 CSS 属性名（使用骆驼规则，如 \"fontSize\"）\n * @example getStyle(document.body, \"fontSize\")\n */\nexport function getStyle(elem, propName) {\n    return elem.ownerDocument.defaultView.getComputedStyle(elem)[vendor(propName)];\n}\n/**\n * 设置元素的 CSS 属性值\n * @param elem 要处理的元素\n * @param propName 要设置的 CSS 属性名（使用骆驼规则，如 \"fontSize\"）\n * @param value 要设置的 CSS 属性值如果是数字则自动追加像素单位\n * @example setStyle(document.body, \"fontSize\")\n */\nexport function setStyle(elem, propName, value) {\n    elem.style[vendor(propName)] = value && typeof value === \"number\" && !/^(?:columnCount|fillOpacity|flexGrow|flexShrink|fontWeight|lineHeight|opacity|order|orphans|widows|zIndex|zoom)$/.test(propName) ? value + \"px\" : value;\n}\n/**\n * 计算一个元素所有 CSS 属性值的和（如果是长度则以像素为单位）\n * @param elem 要计算的元素\n * @param propNames 要计算的 CSS 属性名（使用骆驼规则，如 `fontSize`）列表\n * @example computeStyle(document.body, \"fontSize\", \"lineHeight\")\n */\nexport function computeStyle(elem, ...propNames) {\n    let value = 0;\n    const computedStyle = elem.ownerDocument.defaultView.getComputedStyle(elem);\n    for (const propName of propNames) {\n        value += parseFloat(computedStyle[propName]) || 0;\n    }\n    return value;\n}\n/**\n * 获取元素的滚动距离，如果元素不可滚动则返回原点\n * @param elem 要处理的元素或文档\n * @example getScroll(document.body)\n */\nexport function getScroll(elem) {\n    if (elem.nodeType === 9) {\n        const win = elem.defaultView;\n        if (\"pageXOffset\" in win) {\n            return {\n                x: win.pageXOffset,\n                y: win.pageYOffset\n            };\n        }\n        elem = elem.documentElement;\n    }\n    return {\n        x: elem.scrollLeft,\n        y: elem.scrollTop\n    };\n}\n/**\n * 设置元素的滚动距离\n * @param elem 要处理的元素或文档\n * @param value 要设置的坐标允许只设置部分属性\n * @example setScroll(document.body, { x: 100, y: 500 })\n */\nexport function setScroll(elem, value) {\n    if (elem.nodeType === 9) {\n        elem.defaultView.scrollTo((value.x == null ? getScroll(elem) : value).x, (value.y == null ? getScroll(elem) : value).y);\n    }\n    else {\n        if (value.x != null)\n            elem.scrollLeft = value.x;\n        if (value.y != null)\n            elem.scrollTop = value.y;\n    }\n}\n/**\n * 获取元素和其定位父元素的偏移距离，如果元素未设置定位信息则返回原点\n * @param elem 要处理的元素\n * @example getOffset(document.body)\n */\nexport function getOffset(elem) {\n    const left = getStyle(elem, \"left\");\n    const top = getStyle(elem, \"top\");\n    if ((left && top && left !== \"auto\" && top !== \"auto\") || getStyle(elem, \"position\") !== \"absolute\") {\n        return {\n            x: parseFloat(left) || 0,\n            y: parseFloat(top) || 0\n        };\n    }\n    const parent = offsetParent(elem);\n    const rect = getRect(elem);\n    if (parent.nodeName !== \"HTML\") {\n        const rootRect = getRect(parent);\n        rect.x -= rootRect.x;\n        rect.y -= rootRect.y;\n    }\n    rect.x -= computeStyle(elem, \"marginLeft\") + computeStyle(parent, \"borderLeftWidth\");\n    rect.y -= computeStyle(elem, \"marginTop\") + computeStyle(parent, \"borderTopWidth\");\n    return rect;\n}\n/**\n * 设置元素和其定位父元素的偏移距离\n * @param elem 要处理的元素\n * @param value 要设置的坐标允许只设置部分属性\n * @example setOffset(document.body, { x: 100 })\n */\nexport function setOffset(elem, value) {\n    if (value.x >= 0) {\n        elem.style.left = value.x + \"px\";\n    }\n    if (value.y >= 0) {\n        elem.style.top = value.y + \"px\";\n    }\n}\n/**\n * 获取元素的定位父元素\n * @param elem 要处理的元素\n * @example offsetParent(document.body)\n */\nexport function offsetParent(elem) {\n    let node = elem;\n    while ((node = node.offsetParent) && node.nodeName !== \"HTML\" && getStyle(node, \"position\") === \"static\") {\n        return node || elem.ownerDocument.documentElement;\n    }\n    return node;\n}\n/**\n * 获取元素实际占用的区域（包括内边距和边框、不包括外边距），如果元素不可见则返回空区域\n * @param elem 要处理的元素或文档\n * @example getRect(document.body)\n */\nexport function getRect(elem) {\n    const doc = elem.ownerDocument || elem;\n    const html = doc.documentElement;\n    const rect = getScroll(doc);\n    if (elem.nodeType === 9) {\n        rect.width = Math.max(elem.defaultView.innerWidth, html.clientWidth);\n        rect.height = Math.max(elem.defaultView.innerHeight, html.clientHeight);\n    }\n    else {\n        const elemRect = elem.getBoundingClientRect();\n        rect.x += elemRect.left - html.clientLeft;\n        rect.y += elemRect.top - html.clientTop;\n        rect.width = elemRect.width;\n        rect.height = elemRect.height;\n    }\n    return rect;\n}\n/**\n * 设置元素的区域\n * @param elem 要处理的元素\n * @param value 要设置的区域（包括内边距和边框、不包括外边距），允许只设置部分属性\n * @example setRect(document.body, {width: 200, height: 400})\n */\nexport function setRect(elem, value) {\n    const style = elem.style;\n    if (value.x != null || value.y != null) {\n        movable(elem);\n        const currentPosition = getRect(elem);\n        const offset = getOffset(elem);\n        if (value.y != null) {\n            style.top = offset.y + value.y - currentPosition.y + \"px\";\n        }\n        if (value.x != null) {\n            style.left = offset.x + value.x - currentPosition.x + \"px\";\n        }\n    }\n    if (value.width != null || value.height != null) {\n        const boxSizing = getStyle(elem, \"boxSizing\") === \"border-box\";\n        if (value.width != null) {\n            style.width = value.width - (boxSizing ? 0 : computeStyle(elem, \"borderLeftWidth\", \"borderRightWidth\", \"paddingLeft\", \"paddingRight\")) + \"px\";\n        }\n        if (value.height != null) {\n            style.height = value.height - (boxSizing ? 0 : computeStyle(elem, \"borderTopWidth\", \"borderBottomWidth\", \"paddingTop\", \"paddingBottom\")) + \"px\";\n        }\n    }\n}\n/**\n * 确保指定的元素可移动\n * @param elem 要处理的元素\n */\nexport function movable(elem) {\n    if (!/^(?:abs|fix)/.test(getStyle(elem, \"position\"))) {\n        elem.style.position = \"relative\";\n    }\n}\nvar eventFix;\nvar defaultEventOptions = false;\nexport function on(elem, eventName, selector, eventHandler, thisArg, eventOptions) {\n    if (!eventFix) {\n        // 检测是否支持 {passive: true}\n        const opt = {\n            get passive() {\n                defaultEventOptions = { passive: false };\n                return true;\n            }\n        };\n        document.addEventListener(\"__passive__\", null, opt);\n        document.removeEventListener(\"__passive__\", null, opt);\n        const isEnterOrLeave = (e, sender) => e.type.length === 12 || e.type.length === 10 && e.type.charCodeAt(0) === 109 /*m*/ || !contains(sender, e.relatedTarget);\n        eventFix = {\n            __proto__: null,\n            // focus/blur 不支持冒泡，委托时使用 foucin/foucsout\n            focus: { delegate: \"focusin\" },\n            blur: { delegate: \"focusout\" },\n            // mouseenter/mouseleave 不支持冒泡，委托时使用 mouseover/mouseout\n            mouseenter: { delegate: \"mouseover\", filter: isEnterOrLeave },\n            mouseleave: { delegate: \"mouseout\", filter: isEnterOrLeave },\n            // pointerenter/pointerleave 不支持冒泡，委托时使用 pointerover/pointerout\n            pointerenter: { delegate: \"pointerover\", filter: isEnterOrLeave },\n            pointerleave: { delegate: \"pointerout\", filter: isEnterOrLeave },\n            mouseclick: { bind: \"click\" },\n        };\n        if (window.mozInnerScreenX !== undefined) {\n            // FF 51-：不支持 focusin/focusout 事件\n            const focusAdd = function (elem, eventHandler) {\n                elem.addEventListener(this.bind, eventHandler, true);\n            };\n            const focusRemove = function (elem, eventHandler) {\n                elem.removeEventListener(this.bind, eventHandler, true);\n            };\n            eventFix.focusin = {\n                bind: \"focus\",\n                add: focusAdd,\n                remove: focusRemove\n            };\n            eventFix.focusout = {\n                bind: \"blur\",\n                add: focusAdd,\n                remove: focusRemove\n            };\n            // FF：右击也会触发 click 事件\n            eventFix.click = {\n                filter: (e) => !e.button\n            };\n        }\n        const html = Document.prototype;\n        // FF：不支持 mousewheel 事件\n        if (!(\"onmousewheel\" in html)) {\n            eventFix.mousewheel = {\n                bind: \"DOMMouseScroll\",\n                filter(e) {\n                    // 统一使用 wheelDelta 获取滚轮距离\n                    e.wheelDelta = -(e.detail || 0) / 3;\n                }\n            };\n        }\n        // FF、CH 30-：不支持 mouseenter/mouseleave 事件\n        if (!(\"onmouseenter\" in html)) {\n            eventFix.mouseenter.bind = \"mouseover\";\n            eventFix.mouseleave.bind = \"mouseout\";\n        }\n        // 低版本浏览器：不支持 auxclick 事件\n        if (!(\"onauxclick\" in html)) {\n            eventFix.auxclick = {\n                bind: \"mouseup\",\n                filter: (e) => e.button === 2\n            };\n        }\n        // 低版本浏览器：不支持 pointer* 事件\n        if (!(\"onpointerdown\" in html)) {\n            eventFix.pointerover = { bind: \"mouseover\" };\n            eventFix.pointerout = { bind: \"mouseout\" };\n            eventFix.pointerenter.bind = eventFix.mouseenter.bind || \"mouseenter\";\n            eventFix.pointerenter.delegate = \"mouseover\";\n            eventFix.pointerleave.bind = eventFix.mouseleave.bind || \"mouseleave\";\n            eventFix.pointerleave.delegate = \"mouseout\";\n            eventFix.pointerdown = { bind: \"mousedown\" };\n            eventFix.pointerup = { bind: \"mouseup\" };\n            eventFix.pointermove = { bind: \"mousemove\" };\n        }\n        // 触屏：适配鼠标事件\n        if (window.TouchEvent) {\n            // 将触摸事件模拟成鼠标事件\n            Object.defineProperty(TouchEvent.prototype, \"button\", {\n                value: 1,\n                configurable: true,\n                enumerable: true\n            });\n            for (const prop of [\"pageX\", \"pageY\", \"clientX\", \"clientY\", \"screenX\", \"screenY\"]) {\n                Object.defineProperty(TouchEvent.prototype, prop, {\n                    get() {\n                        return this.changedTouches[0][prop];\n                    },\n                    configurable: true,\n                    enumerable: true\n                });\n            }\n            const requireClick = (elem) => {\n                switch (elem.tagName.toUpperCase()) {\n                    case \"INPUT\":\n                        switch (elem.type) {\n                            case \"button\":\n                                return false;\n                        }\n                        return !elem.disabled && !elem.readOnly;\n                    case \"TEXTAREA\":\n                    case \"SELECT\":\n                    case \"LABEL\":\n                    case \"IFRAME\":\n                    case \"VIDEO\":\n                    case \"AUDIO\":\n                    case \"PROGRESS\":\n                    case \"SUMMARY\":\n                        return true;\n                    default:\n                        return false;\n                }\n            };\n            // 解决部分设备 click 300ms 延时问题\n            eventFix.click = {\n                add(elem, eventHandler) {\n                    let state = 0;\n                    elem.addEventListener(\"touchstart\", eventHandler.__touchStart__ = (e) => {\n                        if (e.changedTouches.length === 1) {\n                            state = [e.changedTouches[0].pageX, e.changedTouches[0].pageY];\n                        }\n                    }, false);\n                    elem.addEventListener(\"touchend\", eventHandler.__touchEnd__ = (e) => {\n                        if (state && e.changedTouches.length === 1 && Math.pow(e.changedTouches[0].pageX - state[0], 2) + Math.pow(e.changedTouches[0].pageY - state[1], 2) < 25) {\n                            state = 1;\n                            // 禁用非特定情况的事件防止点击穿透\n                            if (!requireClick(e.target) && !requireClick(elem)) {\n                                e.preventDefault();\n                            }\n                            eventHandler.call(elem, e);\n                        }\n                    }, false);\n                    elem.addEventListener(\"click\", eventHandler.__click__ = (e) => {\n                        const trigger = state !== 1;\n                        state = 0;\n                        trigger && eventHandler.call(elem, e);\n                    }, false);\n                },\n                remove(elem, eventHandler) {\n                    elem.removeEventListener(\"touchstart\", eventHandler.__touchStart__, false);\n                    elem.removeEventListener(\"touchend\", eventHandler.__touchEnd__, false);\n                    elem.removeEventListener(\"click\", eventHandler.__click__, false);\n                }\n            };\n            const pointerAdd = function (elem, eventHandler, eventOptions) {\n                let state = 0;\n                elem.addEventListener(this.touch, eventHandler.__touch__ = function (e) {\n                    state = 1;\n                    eventHandler.call(this, e);\n                }, eventOptions);\n                elem.addEventListener(this.bind, eventHandler.__mouse__ = function (e) {\n                    if (state) {\n                        state = 0;\n                    }\n                    else {\n                        eventHandler.call(this, e);\n                    }\n                }, eventOptions);\n            };\n            const pointerRemove = function (elem, eventHandler, eventOptions) {\n                elem.removeEventListener(this.touch, eventHandler.__touch__, eventOptions);\n                elem.removeEventListener(this.bind, eventHandler.__mouse__, eventOptions);\n            };\n            // CH: 虽然 Chrome 支持 pointer 事件，但如果调用了 e.preventDefault() 会导致 pointermove 无法触发\n            eventFix.pointerdown = {\n                bind: \"mousedown\",\n                touch: \"touchstart\",\n                add: pointerAdd,\n                remove: pointerRemove\n            };\n            // CH: 虽然 Chrome 支持 pointer 事件，但不支持 e.preventDefault()，改用 touch+mouse\n            eventFix.pointermove = {\n                bind: \"mousemove\",\n                touch: \"touchmove\",\n                add: pointerAdd,\n                remove: pointerRemove\n            };\n            eventFix.pointerup = {\n                bind: \"mouseup\",\n                touch: \"touchend\",\n                add(elem, eventHandler, eventOptions) {\n                    pointerAdd.call(this, elem, eventHandler, eventOptions);\n                    elem.addEventListener(\"touchcancel\", eventHandler.__touch__, eventOptions);\n                },\n                remove(elem, eventHandler, eventOptions) {\n                    pointerRemove.call(this, elem, eventHandler, eventOptions);\n                    elem.removeEventListener(\"touchcancel\", eventHandler.__touch__, eventOptions);\n                }\n            };\n        }\n    }\n    if (typeof selector === \"function\") {\n        eventOptions = thisArg;\n        thisArg = eventHandler;\n        eventHandler = selector;\n        selector = \"\";\n    }\n    thisArg = thisArg || elem;\n    if (!eventOptions || !defaultEventOptions) {\n        eventOptions = defaultEventOptions;\n    }\n    const events = elem.__events__ || (elem.__events__ = { __proto__: null });\n    const key = selector ? eventName + \" \" + selector : eventName;\n    const eventHandlers = events[key];\n    const originalFix = eventFix[eventName];\n    const fix = selector && originalFix && originalFix.delegate ? eventFix[eventName = originalFix.delegate] : originalFix;\n    // 如果满足以下任一情况，需要重新封装监听器\n    // 1. 事件委托，需要重新定位目标元素\n    // 2. 事件有特殊过滤器，仅在满足条件时触发\n    // 3. 需要重写回调函数中的 this\n    // 4. 监听器具有第二参数，需要重写回调函数的第二参数\n    // 5. 监听器已添加函数，需要重新封装才能绑定成功\n    if (selector || thisArg !== elem || fix && fix.filter || eventHandler.length > 1 || eventHandlers && indexOfHandler(eventHandlers, eventHandler, thisArg) >= 0) {\n        const originalHandler = eventHandler;\n        eventHandler = selector ? (e) => {\n            const sender = closest(e.target, selector, elem);\n            if (!sender) {\n                return;\n            }\n            if (originalFix && originalFix !== fix && originalFix.filter && originalFix.filter(e, sender) === false) {\n                return;\n            }\n            if (fix && fix.filter && fix.filter(e, sender) === false) {\n                return;\n            }\n            originalHandler.call(thisArg, e, sender);\n        } : (e) => {\n            if (fix && fix.filter && fix.filter(e, elem) === false) {\n                return;\n            }\n            originalHandler.call(thisArg, e, thisArg);\n        };\n        eventHandler.__original__ = originalHandler;\n        eventHandler.__this__ = thisArg;\n    }\n    // 保存监听器以便之后解绑或手动触发事件\n    if (!eventHandlers) {\n        events[key] = eventHandler;\n    }\n    else if (Array.isArray(eventHandlers)) {\n        eventHandlers.push(eventHandler);\n    }\n    else {\n        events[key] = [eventHandlers, eventHandler];\n    }\n    // 底层绑定事件\n    if (fix && fix.add) {\n        fix.add(elem, eventHandler, eventOptions);\n    }\n    else {\n        elem.addEventListener(fix && fix.bind || eventName, eventHandler, eventOptions);\n    }\n}\nexport function off(elem, eventName, selector, eventHandler, thisArg, eventOptions) {\n    if (typeof selector === \"function\") {\n        eventOptions = thisArg;\n        thisArg = eventHandler;\n        eventHandler = selector;\n        selector = \"\";\n    }\n    thisArg = thisArg || elem;\n    if (!eventOptions || !defaultEventOptions) {\n        eventOptions = defaultEventOptions;\n    }\n    const events = elem.__events__;\n    const key = selector ? eventName + \" \" + selector : eventName;\n    const eventHandlers = events && events[key];\n    if (!eventHandlers) {\n        return;\n    }\n    if (eventHandler) {\n        // 更新事件列表\n        const index = indexOfHandler(eventHandlers, eventHandler, thisArg);\n        if (~index) {\n            if (Array.isArray(eventHandlers)) {\n                eventHandler = eventHandlers[index];\n                eventHandlers.splice(index, 1);\n                if (!eventHandlers.length) {\n                    delete events[key];\n                }\n            }\n            else {\n                eventHandler = eventHandlers;\n                delete events[key];\n            }\n        }\n        // 底层解绑事件\n        const fix = eventFix && eventFix[eventName];\n        if (fix && fix.remove) {\n            fix.remove(elem, eventHandler, eventOptions);\n        }\n        else {\n            elem.removeEventListener(fix && (selector ? fix.delegate : fix.bind) || eventName, eventHandler, eventOptions);\n        }\n    }\n    else if (Array.isArray(eventHandlers)) {\n        for (eventHandler of eventHandlers) {\n            off(elem, eventName, selector, eventHandler, thisArg);\n        }\n    }\n    else {\n        off(elem, eventName, selector, eventHandlers, thisArg);\n    }\n}\nfunction indexOfHandler(eventHandlers, eventHandler, thisArg) {\n    if (Array.isArray(eventHandlers)) {\n        for (let i = 0; i < eventHandlers.length; i++) {\n            if (eventHandlers[i] === eventHandler || eventHandlers[i].__original__ === eventHandler && eventHandlers[i].__this__ === thisArg) {\n                return i;\n            }\n        }\n        return -1;\n    }\n    return eventHandlers === eventHandler || eventHandlers.__original__ === eventHandler && eventHandlers.__this__ === thisArg ? 0 : -1;\n}\nexport function trigger(elem, eventName, selector, event) {\n    if (typeof selector !== \"string\") {\n        event = selector;\n        selector = \"\";\n    }\n    const eventHandlers = elem.__events__ && elem.__events__[selector ? eventName + \" \" + selector : eventName];\n    if (!eventHandlers) {\n        return;\n    }\n    event = event || {};\n    if (!event.type)\n        event.type = eventName;\n    if (!event.target)\n        event.target = selector ? find(elem, selector) : elem;\n    if (Array.isArray(eventHandlers)) {\n        for (const eventHandler of eventHandlers.slice(0)) {\n            eventHandler.call(elem, event);\n        }\n    }\n    else {\n        eventHandlers.call(elem, event);\n    }\n}\n/** 存储特效相关配置 */\nvar animateFix;\n/**\n * 执行一个自定义渐变\n * @param elem 要处理的元素\n * @param propNames 要渐变的 CSS 属性名和最终的属性值组成的键值对\n * @param callback 渐变执行结束的回调函数\n * @param duration 渐变执行的总毫秒数\n * @param timingFunction 渐变函数可以使用 CSS3 预设的特效渐变函数\n * @example animate(document.body, { height: 400 })\n */\nexport function animate(elem, propNames, callback, duration = 200, timingFunction = \"ease\") {\n    if (!animateFix) {\n        const transition = vendor(\"transition\");\n        animateFix = {\n            support: transition in document.documentElement.style,\n            transition: transition,\n            transitionEnd: (transition + \"End\").replace(transition.length > 10 ? /^[A-Z]/ : /[A-Z]/, w => w.toLowerCase())\n        };\n    }\n    if (animateFix.support && duration !== 0) {\n        const context = elem.style.__animate__ || (elem.style.__animate__ = {});\n        const updateTransition = () => {\n            let transition = \"\";\n            for (const key in context) {\n                if (transition)\n                    transition += \",\";\n                transition += `${key.replace(/[A-Z]|^ms|^webkit/g, word => \"-\" + word.toLowerCase())} ${duration}ms ${timingFunction}`;\n            }\n            elem.style[animateFix.transition] = transition;\n        };\n        const transitionEnd = (e) => {\n            // 忽略冒泡导致的调用\n            if (timer && (!e || e.target === e.currentTarget)) {\n                clearTimeout(timer);\n                timer = 0;\n                elem.removeEventListener(animateFix.transitionEnd, transitionEnd, false);\n                // 如果新的渐变覆盖了当前渐变的所有属性，则不触发本次渐变的回调函数\n                let contextUpdated = false;\n                for (const key in context) {\n                    if (context[key] === transitionEnd) {\n                        delete context[key];\n                        contextUpdated = true;\n                    }\n                }\n                if (contextUpdated) {\n                    updateTransition();\n                    callback && callback();\n                }\n            }\n        };\n        // 设置所有属性为起始值\n        for (let propName in propNames) {\n            propName = vendor(propName);\n            context[propName] = transitionEnd;\n            if (!elem.style[propName]) {\n                elem.style[propName] = getStyle(elem, propName);\n            }\n        }\n        // 触发重新布局以保证效果可以触发\n        elem.offsetWidth && elem.clientLeft;\n        // 设置要渐变的属性\n        updateTransition();\n        // 绑定渐变完成事件\n        elem.addEventListener(animateFix.transitionEnd, transitionEnd, false);\n        let timer = setTimeout(transitionEnd, duration);\n    }\n    else {\n        callback && setTimeout(callback, duration);\n    }\n    // 设置属性为最终值，触发动画\n    for (const propName in propNames) {\n        setStyle(elem, propName, propNames[propName]);\n    }\n}\n/**\n * 判断指定的元素是否被隐藏或正在被隐藏\n * @param elem 要处理的元素\n * @example isHidden(document.body)\n */\nexport function isHidden(elem) {\n    return elem.style.__toggle__ === false || (elem.style.display || getStyle(elem, \"display\")) === \"none\";\n}\n/** 存储标签默认的 display 属性 */\nvar defaultDisplays;\n/** 存储内置切换动画 */\nvar toggleAnimations;\n/**\n * 显示一个元素\n * @param elem 要处理的元素\n * @param animation 显示时使用的动画\n * @param callback 动画执行完成后的回调\n * @param duration 动画执行的总毫秒数\n * @param timingFunction 渐变函数可以使用 CSS3 预设的特效渐变函数\n * @param target 动画的目标元素\n */\nexport function show(elem, animation, callback, duration, timingFunction, target) {\n    if (animation || callback) {\n        toggle(elem, true, animation, callback, duration, timingFunction, target);\n    }\n    else {\n        elem.style.display = elem.style.__display__ || \"\";\n        if (elem.style.__toggle__ === false) {\n            delete elem.style.__toggle__;\n        }\n        // 如果清空内联 display 后 display 仍然为 none, 说明通过 CSS 设置了 display 属性\n        // 这时将元素强制设为 inline 或 block\n        if (getStyle(elem, \"display\") === \"none\") {\n            const nodeName = elem.nodeName;\n            let defaultDisplay = (defaultDisplays || (defaultDisplays = { __proto__: null }))[nodeName];\n            if (!defaultDisplay) {\n                // 创建一个新节点以计算其默认的 display 属性\n                const tmp = document.createElement(nodeName);\n                document.body.appendChild(tmp);\n                defaultDisplay = getStyle(tmp, \"display\");\n                document.body.removeChild(tmp);\n                // 如果计算失败则设置为默认的 block\n                if (defaultDisplay === \"none\") {\n                    defaultDisplay = \"block\";\n                }\n                // 缓存以加速下次计算\n                defaultDisplays[nodeName] = defaultDisplay;\n            }\n            elem.style.display = defaultDisplay;\n        }\n    }\n}\n/**\n * 隐藏元素\n * @param elem 要处理的元素\n * @param animation 显示时使用的动画\n * @param callback 动画执行完成后的回调\n * @param duration 动画执行的总毫秒数\n * @param timingFunction 渐变函数可以使用 CSS3 预设的特效渐变函数\n * @param target 动画的目标元素\n */\nexport function hide(elem, animation, callback, duration, timingFunction, target) {\n    if (animation || callback) {\n        toggle(elem, false, animation, callback, duration, timingFunction, target);\n    }\n    else {\n        const currentDisplay = getStyle(elem, \"display\");\n        if (elem.style.__toggle__ === true) {\n            delete elem.style.__toggle__;\n        }\n        if (currentDisplay !== \"none\") {\n            elem.style.__display__ = elem.style.display;\n            elem.style.display = \"none\";\n        }\n    }\n}\nexport function toggle(elem, value, animation, callback, duration, timingFunction, target) {\n    if (typeof value !== \"boolean\") {\n        target = timingFunction;\n        timingFunction = duration;\n        duration = callback;\n        callback = animation;\n        animation = value;\n        value = undefined;\n    }\n    if (value === undefined) {\n        value = isHidden(elem);\n    }\n    if (typeof animation === \"string\") {\n        animation = (toggleAnimations || (toggleAnimations = {\n            opacity: { opacity: 0 },\n            height: {\n                marginTop: 0,\n                borderTopWidth: 0,\n                paddingTop: 0,\n                height: 0,\n                paddingBottom: 0,\n                borderBottomWidth: 0,\n                marginBottom: 0\n            },\n            width: {\n                marginLeft: 0,\n                borderLeftWidth: 0,\n                paddingLeft: 0,\n                width: 0,\n                paddinRight: 0,\n                borderRightWidth: 0,\n                marginRight: 0\n            },\n            top: { transform: \"translateY(-100%)\" },\n            bottom: { transform: \"translateY(100%)\" },\n            left: { transform: \"translateX(-100%)\" },\n            right: { transform: \"translateX(100%)\" },\n            scale: { transform: \"scale(0, 0)\" },\n            scaleX: { transform: \"scaleX(0)\" },\n            scaleY: { transform: \"scaleY(0)\" },\n            slideUp: { opacity: 0, transform: \"translateY(10%)\" },\n            slideLeft: { opacity: 0, transform: \"translateX(10%)\" },\n            slideDown: { opacity: 0, transform: \"translateY(-10%)\" },\n            slideRight: { opacity: 0, transform: \"translateX(-10%)\" },\n            zoomOut: { opacity: 0, transform: \"scale(0, 0)\" },\n            zoomIn: { opacity: 0, transform: \"scale(1.2, 1.2)\" },\n            rotate: { opacity: 0, transform: \"rotate(-180deg)\" }\n        }))[animation];\n    }\n    if (animation && duration !== 0) {\n        // 优先显示元素以便后续计算\n        if (value) {\n            show(elem);\n        }\n        // 设置渐变目标\n        // 如果正在执行渐变，计算新目标会出现错误，直接复用上次设置的目标\n        const setTransformOrigin = target && animation.transform && elem.style.__toggle__ == undefined;\n        if (setTransformOrigin) {\n            const targetRect = getRect(target);\n            const elemRect = getRect(elem);\n            setStyle(elem, \"transformOrigin\", `${(elemRect.x + elemRect.width <= targetRect.x + targetRect.width / 4 ? targetRect.x : targetRect.x + targetRect.width <= elemRect.x + targetRect.width / 4 ? targetRect.x + targetRect.width : targetRect.x + targetRect.width / 2) - elemRect.x}px ${(elemRect.y + elemRect.height <= targetRect.y + targetRect.height / 4 ? targetRect.y : targetRect.y + targetRect.height <= elemRect.y + targetRect.height / 4 ? targetRect.y + targetRect.height : targetRect.y + targetRect.height / 2) - elemRect.y}px`);\n        }\n        // 更改宽高时隐藏滚动条\n        const setOverflowX = animation.width != undefined;\n        if (setOverflowX) {\n            elem.style.overflowX = \"hidden\";\n        }\n        const setOverflowY = animation.height != undefined;\n        if (setOverflowY) {\n            elem.style.overflowY = \"hidden\";\n        }\n        // 计算渐变的最终属性\n        // 如果需要隐藏元素，则 animation 表示最终属性\n        // 如果需要显示元素，则需要手动计算最终属性\n        let to = animation;\n        if (value) {\n            to = {};\n            // 如果正在执行渐变，则从当前位置开始渐变而非从隐藏时的值属性开始，同时停止渐变用于计算最终属性\n            let from = animation;\n            if (elem.style.__toggle__ != undefined) {\n                from = {};\n                for (const prop in animation) {\n                    from[prop] = getStyle(elem, prop);\n                    setStyle(elem, prop, \"\");\n                }\n                elem.style[animateFix.transition] = \"\";\n            }\n            // 计算最终属性值并将属性重置为初始值\n            for (const prop in animation) {\n                to[prop] = getStyle(elem, prop);\n                setStyle(elem, prop, from[prop]);\n            }\n        }\n        // 执行渐变\n        elem.style.__toggle__ = value;\n        animate(elem, to, () => {\n            delete elem.style.__toggle__;\n            if (setOverflowX) {\n                elem.style.minWidth = elem.style.overflowX = \"\";\n            }\n            if (setOverflowY) {\n                elem.style.minHeight = elem.style.overflowY = \"\";\n            }\n            if (setTransformOrigin) {\n                setStyle(elem, \"transformOrigin\", \"\");\n            }\n            for (const prop in to) {\n                setStyle(elem, prop, \"\");\n            }\n            if (!value) {\n                hide(elem);\n            }\n            callback && callback(value);\n        }, duration, timingFunction);\n    }\n    else {\n        value ? show(elem) : hide(elem);\n        callback && callback(value);\n    }\n}\n/**\n * 确保在文档加载完成后再执行指定的函数\n * @param callback 要执行的回调函数\n * @param context 要等待的文档对象\n */\nexport function ready(callback, context = document) {\n    if (/^(?:complete|loaded|interactive)$/.test(context.readyState) && context.body) {\n        callback.call(context);\n    }\n    else {\n        context.addEventListener(\"DOMContentLoaded\", callback, false);\n    }\n}\n","/**\n * 创建一个新函数，调用该函数后，延时调用原函数。如果在延时等待期间有新的调用，则重新开始计时。\n * @param fn 要调用的原函数。\n * @param timeout 延时的毫秒数。\n * @return 返回一个新函数。\n * @example document.onscroll = defer(() => console.log(\"延时执行\"), 100);\n */\nexport function defer(fn, duration = 0) {\n    let timer;\n    return function () {\n        const args = arguments;\n        timer && clearTimeout(timer);\n        timer = setTimeout(() => {\n            timer = 0;\n            fn.apply(this, args);\n        }, duration);\n    };\n}\n","import * as React from 'react';\n/**\n * 最终获取一个元素节点\n * @param {any} Node 一个节点&组件&任意数据\n * */\nexport function getReactNode(Node) {\n    return (React.isValidElement(Node) || typeof Node === 'string') ? Node : <Node />;\n}\n/**\n * 设置元素 css3 transform 属性\n * @param {element} ele 一个节点\n * @param {string} attribute 属性值\n * */\nexport function setTransform(ele, attribute) {\n    const transformNames = {\n        webkit: 'webkitTransform',\n        Moz: 'MozTransform',\n        O: 'OTransform',\n        ms: 'msTransform',\n        standard: 'transform'\n    };\n    for (let name in transformNames) {\n        if (ele.style[transformNames[name]] !== undefined) {\n            ele.style[transformNames[name]] = attribute;\n        }\n    }\n}\n/**\n * 获取meta标签的content值\n * @param {string} name meta中的name\n * */\nexport function getMetaValue(name) {\n    const meta = Array.from(document.getElementsByTagName('meta'))\n        .filter(item => item.name === name)[0];\n    let value = meta ? meta.content && meta.content.toLowerCase() : null;\n    if (name === 'theme' && value !== 'ios' && value !== 'android')\n        value = 'ios';\n    return value;\n}\n/**\n * 创建一个生成唯一标示的函数\n * */\nexport function getUuidFn(key) {\n    let id = 0;\n    const nowDate = Date.now();\n    return () => `${key}_${nowDate}_${id++}`;\n}\n","import * as dom from './dom';\nimport * as scroll from './scroll';\nimport * as helper from './helper';\nimport * as fns from './function';\nexport default { dom, helper, scroll, fns };\n","import { getScroll, setScroll, getRect, getStyle } from \"./dom\";\n/**\n * 滚动元素到指定的位置。\n * @param elem 元素或文档。\n * @param value 要滚动的目标坐标。允许只设置部分属性。\n * @param duration 滚动的动画时间。如果为 0 则不使用动画。\n * @param callback 滚动动画结束的回调函数。\n * @example scrollTo(document, {y: 400})\n */\nexport function scrollTo(elem, value, duration = 200, callback) {\n    const start = getScroll(elem);\n    let last = start;\n    if (duration === 0) {\n        setScroll(elem, value);\n    }\n    else if (value.x != null || value.y != null) {\n        const deltaX = value.x - start.x;\n        const deltaY = value.y - start.y;\n        const maxCount = duration / 20;\n        let count = 0;\n        const step = () => {\n            value = getScroll(elem);\n            if (value.x === last.x && value.y === last.y) {\n                if (deltaX) {\n                    value.x = start.x + (1 - Math.pow((1 - count / maxCount), 3)) * deltaX;\n                }\n                if (deltaY) {\n                    value.y = start.y + (1 - Math.pow((1 - count / maxCount), 3)) * deltaY;\n                }\n                setScroll(elem, value);\n                if (count++ < maxCount) {\n                    last = getScroll(elem);\n                    setTimeout(step, 20);\n                }\n                else {\n                    callback && callback(last);\n                }\n            }\n        };\n        step();\n        return;\n    }\n    callback && callback(last);\n}\n/**\n * 滚动元素指定的偏移量。\n * @param elem 要滚动的元素或文档。\n * @param value 要滚动的距离坐标。允许只设置部分属性。\n * @param duration 滚动的动画时间。如果为 0 则不使用动画。\n * @param callback 滚动动画结束的回调函数。\n * @example scrollBy(document, {y: 400})\n */\nexport function scrollBy(elem, value, duration, callback) {\n    const scroll = getScroll(elem);\n    if (value.x != null)\n        scroll.x += value.x;\n    if (value.y != null)\n        scroll.y += value.y;\n    scrollTo(elem, scroll, duration, callback);\n}\n/**\n * 获取元素的滚动区域大小。\n * @param elem 要获取的元素或文档。\n * @return 返回一个大小。\n * @example scrollSize(document.body)\n */\nexport function scrollSize(elem) {\n    return {\n        width: elem.nodeType === 9 ? Math.max(elem.documentElement.scrollWidth || 0, elem.body.scrollWidth || 0, elem.clientWidth || 0) : elem.scrollWidth,\n        height: elem.nodeType === 9 ? Math.max(elem.documentElement.scrollHeight || 0, elem.body.scrollHeight || 0, elem.clientHeight || 0) : elem.scrollHeight\n    };\n}\n/**\n * 判断指定元素是否在可见区域内。\n * @param elem 要判断的元素或文档。\n * @param scrollable 滚动的容器元素。\n * @param padding 判断是否在区域内的最小距离。\n * @return 如果元素部分或全部在可见区域内则返回 true，否则返回 false。\n * @example isScrollIntoView(document.body)\n */\nexport function isScrollIntoView(elem, scrollable = scrollParent(elem), padding = 0) {\n    const container = getRect(scrollable);\n    const rect = getRect(elem);\n    const deltaY = rect.y - container.y;\n    const deltaX = rect.x - container.x;\n    return (deltaY < padding ? deltaY + rect.height > padding : deltaY < container.height) && (deltaX < padding ? deltaX + rect.width > padding : deltaX < container.width);\n}\n/**\n * 将元素滚动到可见区域。\n * @param elem 要滚动的元素或文档。\n * @param position 滚动的位置。\n * @param scrollable 滚动的容器元素。\n * @param duration 滚动的动画时间。如果为 0 则不使用动画。\n * @param offset 如果需要滚动则额外偏移的距离。\n * @param callback 滚动动画结束的回调函数。\n */\nexport function scrollIntoView(elem, position, scrollable = scrollParent(elem), duration, offset = 0, callback) {\n    const container = getRect(scrollable);\n    const rect = getRect(elem);\n    const deltaY = rect.y - container.y;\n    const deltaX = rect.x - container.x;\n    const value = getScroll(scrollable);\n    if (!position || position === \"start\" || position === \"nearest\" && deltaY <= (container.height - rect.height) / 2) {\n        value.y += deltaY - offset;\n    }\n    else {\n        value.y += deltaY - container.height + rect.height + offset;\n        if (position === \"center\") {\n            value.y += (container.height - rect.height) / 2;\n        }\n    }\n    if (!position || position === \"start\" || position === \"nearest\" && deltaX <= (container.width - rect.width) / 2) {\n        value.x -= -deltaX + offset;\n    }\n    else {\n        value.x -= -deltaX + container.width - rect.width - offset;\n        if (position === \"center\") {\n            value.x += (container.width - rect.width) / 2;\n        }\n    }\n    scrollTo(scrollable, value, duration, callback);\n}\n/**\n * 如果元素可见区域内则将元素滚动到可见区域。\n * @param elem 要滚动的元素或文档。\n * @param scrollable 滚动的容器元素。\n * @param padding 判断是否在区域内的最小距离。\n * @param offset 如果需要滚动则额外偏移的距离。\n * @param duration 滚动的动画时间。如果为 0 则不使用动画。\n * @param callback 滚动动画结束的回调函数。\n * @example scrollIntoViewIfNeeded(document.body)\n */\nexport function scrollIntoViewIfNeeded(elem, scrollable = scrollParent(elem), duration, padding = 0, offset = 0, callback) {\n    const container = getRect(scrollable);\n    const rect = getRect(elem);\n    const deltaY = rect.y - container.y;\n    const deltaX = rect.x - container.x;\n    const value = getScroll(scrollable);\n    if (deltaY < padding) {\n        value.y += deltaY - offset;\n    }\n    else if (deltaY + rect.height + padding > container.height) {\n        value.y += deltaY - container.height + rect.height + offset;\n    }\n    else {\n        delete value.y;\n    }\n    if (deltaX < padding) {\n        value.x += deltaX - offset;\n    }\n    else if (deltaX + rect.width + padding > container.width) {\n        value.x += deltaX - container.width + rect.width + offset;\n    }\n    else {\n        delete value.x;\n    }\n    scrollTo(scrollable, value, duration, callback);\n}\n/**\n * 设置滚动到当前指定元素或文档时的回调。\n * @param elem 要绑定事件的元素或文档。\n * @param callback 滚动到当前指定元素时的回调。\n * @param once 是否只在第一次滚动时执行。\n * @param scrollable 滚动的容器元素。\n * @param padding 判断是否在区域内的最小距离。\n * @example scrollShow(document.body, () => { alert(\"hi\"); })\n */\nexport function scrollShow(elem, callback, once = true, scrollable = scrollParent(elem), padding = 0) {\n    const container = scrollable.nodeType === 9 ? scrollable.defaultView : scrollable;\n    let inView = false;\n    const handleScroll = () => {\n        const oldInView = inView;\n        if ((inView = isScrollIntoView(elem, scrollable, padding))) {\n            if (!oldInView) {\n                callback();\n            }\n            if (once) {\n                container.removeEventListener(\"scroll\", handleScroll, false);\n            }\n        }\n    };\n    container.addEventListener(\"scroll\", handleScroll, false);\n    window.addEventListener(\"resize\", handleScroll, false);\n    handleScroll();\n}\n/**\n * 获取指定元素第一个可滚动的父元素。\n * @param elem 要搜索的元素。\n * @return 返回父元素。\n */\nexport function scrollParent(elem) {\n    if (elem.nodeType !== 9) {\n        while ((elem = elem.parentNode) && elem.nodeType === 1 && !/^(?:auto|scroll)$/.test(getStyle(elem, \"overflow\")))\n            ;\n    }\n    return elem;\n}\n","module.exports = __WEBPACK_EXTERNAL_MODULE_react__;"],"sourceRoot":""}